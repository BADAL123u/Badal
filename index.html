<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>BN LAST KING - Enhanced Prediction System</title><link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"><link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><style> * { box-sizing: border-box; } body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%); min-height: 100vh; overflow-x: hidden; } .glass-card { background: rgba(255, 255, 255, 0.08); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.15); border-radius: 16px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4); } .neon-text { font-family: 'Orbitron', monospace; text-shadow: 0 0 10px #00ff88, 0 0 20px #00ff88, 0 0 30px #00ff88; } .prediction-card { background: linear-gradient(135deg, rgba(0, 255, 136, 0.15) 0%, rgba(0, 255, 136, 0.05) 100%); border: 2px solid rgba(0, 255, 136, 0.4); transition: all 0.3s ease; } .win-card { background: linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%); border: 2px solid rgba(34, 197, 94, 0.5); animation: winPulse 1s ease-in-out; } .loss-card { background: linear-gradient(135deg, rgba(239, 68, 68, 0.2) 0%, rgba(239, 68, 68, 0.1) 100%); border: 2px solid rgba(239, 68, 68, 0.5); } .pending-card { background: linear-gradient(135deg, rgba(251, 191, 36, 0.2) 0%, rgba(251, 191, 36, 0.1) 100%); border: 2px solid rgba(251, 191, 36, 0.5); animation: pendingBlink 2s infinite; } @keyframes winPulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } } @keyframes pendingBlink { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } } .logic-selector { background: rgba(0, 255, 136, 0.1); border: 1px solid rgba(0, 255, 136, 0.3); color: #00ff88; transition: all 0.3s ease; } .logic-selector:hover, .logic-selector.active { background: rgba(0, 255, 136, 0.25); box-shadow: 0 0 20px rgba(0, 255, 136, 0.4); transform: translateY(-2px); } .result-badge { padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; } .win-badge { background: rgba(34, 197, 94, 0.2); color: #22c55e; border: 1px solid #22c55e; } .loss-badge { background: rgba(239, 68, 68, 0.2); color: #ef4444; border: 1px solid #ef4444; } .pending-badge { background: rgba(251, 191, 36, 0.2); color: #fbbf24; border: 1px solid #fbbf24; } .notification { position: fixed; top: 20px; right: 20px; z-index: 1000; min-width: 320px; transform: translateX(400px); transition: transform 0.3s ease; } .notification.show { transform: translateX(0); } .chart-container { position: relative; height: 300px; width: 100%; } .status-online { color: #22c55e; animation: pulse 2s infinite; } .status-offline { color: #ef4444; } @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } } .prediction-number { font-size: 4rem; font-weight: 900; text-shadow: 0 0 20px currentColor; } .confidence-bar { height: 8px; border-radius: 4px; background: linear-gradient(90deg, #ef4444 0%, #fbbf24 50%, #22c55e 100%); transition: width 0.5s ease; } @media (max-width: 768px) { .prediction-number { font-size: 2.5rem; } .notification { min-width: 280px; right: 10px; top: 10px; } } </style></head><body class="bg-gray-900 text-green-400 relative"><div id="notification" class="notification glass-card p-4 rounded-lg"><div class="flex items-center"><i id="notifIcon" class="fas fa-check-circle text-green-400 text-xl mr-3"></i><div><div id="notifTitle" class="font-semibold text-white"></div><div id="notifMessage" class="text-sm text-gray-300"></div></div></div></div><div class="container mx-auto px-4 py-6 relative z-10"><div class="text-center mb-8"><h1 class="text-5xl md:text-6xl font-bold neon-text mb-2">BN LAST KING</h1><p class="text-lg text-green-300 font-light">Enhanced AI Prediction System</p><div class="flex items-center justify-center mt-4"><div id="systemStatus" class="w-3 h-3 rounded-full bg-green-400 status-online"></div><span class="ml-2 text-sm" id="statusText">System Online</span></div></div><div class="glass-card p-6 mb-6"><h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-brain mr-2"></i> AI Logic Selection </h3><div class="grid grid-cols-2 md:grid-cols-3 gap-3"><button class="logic-selector p-3 rounded-lg text-sm font-medium active" data-logic="ultraAI"><i class="fas fa-robot mr-1"></i> Ultra AI </button><button class="logic-selector p-3 rounded-lg text-sm font-medium" data-logic="pattern"><i class="fas fa-chart-line mr-1"></i> Pattern Analysis </button><button class="logic-selector p-3 rounded-lg text-sm font-medium" data-logic="fibonacci"><i class="fas fa-infinity mr-1"></i> Fibonacci </button><button class="logic-selector p-3 rounded-lg text-sm font-medium" data-logic="statistical"><i class="fas fa-calculator mr-1"></i> Statistical </button><button class="logic-selector p-3 rounded-lg text-sm font-medium" data-logic="ml"><i class="fas fa-network-wired mr-1"></i> Machine Learning </button><button class="logic-selector p-3 rounded-lg text-sm font-medium" data-logic="quantum"><i class="fas fa-atom mr-1"></i> Quantum </button></div></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2"><div id="mainPredictionCard" class="prediction-card glass-card p-6 mb-6 rounded-xl"><div class="flex items-center justify-between mb-6"><div class="flex items-center"><i class="fas fa-calendar-alt text-2xl mr-3"></i><div><div class="text-sm text-gray-400">Current Period</div><div class="text-2xl font-bold" id="periodDisplay">Loading...</div></div></div><div class="text-right"><div class="text-sm text-gray-400">Next Update</div><div class="text-lg font-medium" id="countdownDisplay">--:--</div></div></div><div class="text-center py-8"><div class="text-sm text-gray-400 mb-2">AI Prediction</div><div class="prediction-number neon-text mb-4" id="predictionDisplay">-</div><div class="grid grid-cols-3 gap-6 mb-6"><div class="text-center"><div class="text-sm text-gray-400 mb-2">Target Number</div><div class="text-3xl font-bold text-yellow-400" id="targetNumberDisplay">-</div></div><div class="text-center"><div class="text-sm text-gray-400 mb-2">Confidence</div><div class="text-3xl font-bold text-blue-400" id="confidenceDisplay">-</div></div><div class="text-center"><div class="text-sm text-gray-400 mb-2">Status</div><div class="text-lg font-bold" id="currentStatus"><span class="pending-badge">WAITING</span></div></div></div></div><div class="border-t border-gray-700 pt-4"><div class="flex items-center justify-between mb-3"><div class="text-sm text-gray-400">Logic: <span id="currentLogic" class="text-green-400 font-semibold">Ultra AI</span></div><div class="text-sm text-gray-400">Accuracy: <span id="currentAccuracy" class="text-green-400 font-semibold">0%</span></div></div><div class="w-full bg-gray-700 rounded-full h-2"><div class="confidence-bar rounded-full transition-all duration-500" id="confidenceBar" style="width: 0%"></div></div></div></div><div class="glass-card p-6 rounded-xl"><h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-chart-bar mr-2"></i> Performance Analytics </h3><div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"><div class="text-center p-4 bg-green-500 bg-opacity-20 rounded-lg border border-green-500 border-opacity-30"><div class="text-3xl font-bold text-green-400" id="winsCount">0</div><div class="text-sm text-gray-400">Total Wins</div></div><div class="text-center p-4 bg-red-500 bg-opacity-20 rounded-lg border border-red-500 border-opacity-30"><div class="text-3xl font-bold text-red-400" id="lossesCount">0</div><div class="text-sm text-gray-400">Total Losses</div></div><div class="text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg border border-blue-500 border-opacity-30"><div class="text-3xl font-bold text-blue-400" id="accuracyDisplay">0%</div><div class="text-sm text-gray-400">Win Rate</div></div><div class="text-center p-4 bg-yellow-500 bg-opacity-20 rounded-lg border border-yellow-500 border-opacity-30"><div class="text-3xl font-bold text-yellow-400" id="streakDisplay">0</div><div class="text-sm text-gray-400">Current Streak</div></div></div><div class="chart-container"><canvas id="performanceChart"></canvas></div></div></div><div class="space-y-6"><div class="glass-card p-6 rounded-xl"><h3 class="text-lg font-semibold mb-4 flex items-center"><i class="fas fa-gamepad mr-2"></i> Live Game Results </h3><div id="liveResults" class="space-y-3"><div class="text-sm text-gray-400 text-center py-4">Loading results...</div></div></div><div class="glass-card p-6 rounded-xl"><h3 class="text-lg font-semibold mb-4 flex items-center"><i class="fas fa-server mr-2"></i> System Status </h3><div class="space-y-3"><div class="flex items-center justify-between"><span class="text-sm">API Connection</span><div class="flex items-center"><div id="apiStatus" class="w-3 h-3 rounded-full bg-green-400 status-online mr-2"></div><span class="text-xs text-green-400" id="apiStatusText">Connected</span></div></div><div class="flex items-center justify-between"><span class="text-sm">Prediction Engine</span><div class="flex items-center"><div class="w-3 h-3 rounded-full bg-green-400 status-online mr-2"></div><span class="text-xs text-green-400">Active</span></div></div><div class="flex items-center justify-between"><span class="text-sm">Auto-Check Results</span><div class="flex items-center"><div class="w-3 h-3 rounded-full bg-green-400 status-online mr-2"></div><span class="text-xs text-green-400">Enabled</span></div></div></div></div><div class="glass-card p-6 rounded-xl"><h3 class="text-lg font-semibold mb-4 flex items-center"><i class="fas fa-tachometer-alt mr-2"></i> Session Stats </h3><div class="space-y-3"><div class="flex justify-between"><span class="text-sm text-gray-400">Today's Predictions</span><span class="font-semibold" id="todayPredictions">0</span></div><div class="flex justify-between"><span class="text-sm text-gray-400">Best Streak</span><span class="font-semibold text-yellow-400" id="bestStreak">0</span></div><div class="flex justify-between"><span class="text-sm text-gray-400">Total Sessions</span><span class="font-semibold" id="totalSessions">0</span></div><div class="flex justify-between"><span class="text-sm text-gray-400">Last Update</span><span class="font-semibold text-green-400" id="lastUpdate">--:--</span></div></div></div></div></div><div class="glass-card p-6 mt-6 rounded-xl"><div class="flex items-center justify-between mb-6"><h3 class="text-xl font-semibold flex items-center"><i class="fas fa-history mr-2"></i> Prediction History <span class="ml-3 px-3 py-1 bg-green-500 bg-opacity-20 text-green-400 text-sm rounded-full" id="historyCount">0</span></h3><div class="flex space-x-2"><button id="refreshHistory" class="px-4 py-2 bg-blue-500 bg-opacity-20 border border-blue-500 rounded-lg text-blue-400 hover:bg-opacity-30 transition-all"><i class="fas fa-sync-alt mr-1"></i> Refresh </button><button id="clearHistory" class="px-4 py-2 bg-red-500 bg-opacity-20 border border-red-500 rounded-lg text-red-400 hover:bg-opacity-30 transition-all"><i class="fas fa-trash mr-1"></i> Clear All </button></div></div><div id="historyContainer" class="space-y-4"><div class="text-center text-gray-400 py-8"><i class="fas fa-clock text-3xl mb-2"></i><div>No prediction history available</div></div></div></div><div class="text-center mt-8 pt-6 border-t border-gray-700"><p class="text-sm text-gray-400"><i class="fab fa-telegram mr-2"></i> BN LAST KING ENHANCED - Advanced AI Prediction System </p><p class="text-xs text-gray-500 mt-2">v3.0 Enhanced Edition with Real-time Result Checking</p></div></div><script> // Global Variables let historyData = JSON.parse(localStorage.getItem('predictionHistory')) || []; let gameResults = JSON.parse(localStorage.getItem('gameResults')) || []; let lastFetchedPeriod = localStorage.getItem('lastFetchedPeriod') || null; let currentLogicType = 'ultraAI'; let performanceChart = null; let currentStreak = parseInt(localStorage.getItem('currentStreak')) || 0; let bestStreak = parseInt(localStorage.getItem('bestStreak')) || 0; let totalSessions = parseInt(localStorage.getItem('totalSessions')) || 0; let isOnline = true; // Prediction Logic Types const predictionLogics = { ultraAI: function(history, gameResults) { if (gameResults.length < 3) return { prediction: Math.random() > 0.5 ? "BIG" : "SMALL", confidence: 65 }; const recent = gameResults.slice(0, 5); let bigCount = 0, smallCount = 0; recent.forEach((result, index) => { const weight = Math.pow(1.5, index + 1); if (parseInt(result.number) >= 5) { bigCount += weight; } else { smallCount += weight; } }); // Advanced pattern detection const lastThree = recent.slice(0, 3).map(r => parseInt(r.number) >= 5 ? 1 : 0); const pattern = lastThree.join(''); let prediction; if (pattern === '111' || pattern === '000') { prediction = pattern === '111' ? "SMALL" : "BIG"; } else { prediction = bigCount > smallCount ? "SMALL" : "BIG"; } const confidence = Math.min(95, 60 + Math.abs(bigCount - smallCount) * 3); return { prediction, confidence }; }, pattern: function(history, gameResults) { if (gameResults.length < 4) return { prediction: Math.random() > 0.5 ? "BIG" : "SMALL", confidence: 55 }; const recent = gameResults.slice(0, 6); const sequence = recent.map(r => parseInt(r.number) >= 5 ? 'B' : 'S'); // Look for repeating patterns let patternFound = false; let prediction = "BIG"; for (let len = 2; len <= 3; len++) { for (let i = 0; i <= sequence.length - len * 2; i++) { const pattern1 = sequence.slice(i, i + len).join(''); const pattern2 = sequence.slice(i + len, i + len * 2).join(''); if (pattern1 === pattern2) { prediction = sequence[i] === 'B' ? "SMALL" : "BIG"; patternFound = true; break; } } if (patternFound) break; } const confidence = patternFound ? 78 : 62; return { prediction, confidence }; }, fibonacci: function(history, gameResults) { if (gameResults.length < 3) return { prediction: Math.random() > 0.5 ? "BIG" : "SMALL", confidence: 60 }; const recent = gameResults.slice(0, 8); const fibSeq = [1, 1, 2, 3, 5, 8, 13, 21]; let score = 0; recent.forEach((result, index) => { const num = parseInt(result.number); if (fibSeq.includes(num)) { score += (8 - index); } }); const prediction = score > 15 ? "SMALL" : "BIG"; const confidence = 55 + Math.min(25, score * 2); return { prediction, confidence }; }, statistical: function(history, gameResults) { if (gameResults.length < 10) return { prediction: Math.random() > 0.5 ? "BIG" : "SMALL", confidence: 50 }; const recent = gameResults.slice(0, 20); const bigCount = recent.filter(r => parseInt(r.number) >= 5).length; const smallCount = recent.length - bigCount; const bigPercentage = bigCount / recent.length; const deviation = Math.abs(bigPercentage - 0.5); // Statistical reversion to mean const prediction = bigPercentage > 0.5 ? "SMALL" : "BIG"; const confidence = Math.min(88, 50 + deviation * 80); return { prediction, confidence }; }, ml: function(history, gameResults) { if (gameResults.length < 7) return { prediction: Math.random() > 0.5 ? "BIG" : "SMALL", confidence: 65 }; const recent = gameResults.slice(0, 10); let features = []; // Extract features recent.forEach(result => { features.push(parseInt(result.number)); }); // Calculate weighted moving average const weights = [0.3, 0.25, 0.2, 0.15, 0.1]; let weightedSum = 0; let totalWeight = 0; for (let i = 0; i < Math.min(features.length, weights.length); i++) { weightedSum += features[i] * weights[i]; totalWeight += weights[i]; } const average = weightedSum / totalWeight; const prediction = average >= 5 ? "SMALL" : "BIG"; const confidence = Math.min(85, 60 + Math.abs(average - 4.5) * 8); return { prediction, confidence }; }, quantum: function(history, gameResults) { if (gameResults.length === 0) return { prediction: Math.random() > 0.5 ? "BIG" : "SMALL", confidence: 50 }; const recent = gameResults.slice(0, 5); // Quantum-inspired entropy calculation let entropy = 0; const numbers = recent.map(r => parseInt(r.number)); const unique = [...new Set(numbers)]; unique.forEach(num => { const prob = numbers.filter(n => n === num).length / numbers.length; entropy -= prob * Math.log2(prob); }); // Quantum superposition collapse const phase = entropy * Math.PI / 4; const quantumState = Math.sin(phase + Date.now() / 1000) > 0; const prediction = quantumState ? "BIG" : "SMALL"; const confidence = 45 + Math.floor(entropy * 10); return { prediction, confidence }; } }; // Initialize Chart function initializeChart() { const ctx = document.getElementById('performanceChart').getContext('2d'); performanceChart = new Chart(ctx, { type: 'line', data: { labels: [], datasets: [{ label: 'Win Rate %', data: [], borderColor: '#00ff88', backgroundColor: 'rgba(0, 255, 136, 0.1)', borderWidth: 3, fill: true, tension: 0.4, pointBackgroundColor: '#00ff88', pointBorderColor: '#ffffff', pointBorderWidth: 2, pointRadius: 5 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#00ff88', font: { size: 14, weight: 'bold' } } } }, scales: { y: { beginAtZero: true, max: 100, grid: { color: 'rgba(0, 255, 136, 0.2)' }, ticks: { color: '#00ff88', font: { weight: 'bold' } } }, x: { grid: { color: 'rgba(0, 255, 136, 0.2)' }, ticks: { color: '#00ff88', font: { weight: 'bold' } } } } } }); } // Notification System function showNotification(title, message, type = 'success') { const notification = document.getElementById('notification'); const icon = document.getElementById('notifIcon'); const titleEl = document.getElementById('notifTitle'); const messageEl = document.getElementById('notifMessage'); const icons = { success: 'fas fa-check-circle text-green-400', error: 'fas fa-exclamation-circle text-red-400', info: 'fas fa-info-circle text-blue-400', warning: 'fas fa-exclamation-triangle text-yellow-400', win: 'fas fa-trophy text-yellow-400', loss: 'fas fa-times-circle text-red-400' }; icon.className = icons[type] + ' text-xl mr-3'; titleEl.textContent = title; messageEl.textContent = message; notification.classList.add('show'); setTimeout(() => { notification.classList.remove('show'); }, 5000); } // Generate target number based on prediction function generateTargetNumber(prediction) { const small = [0, 1, 2, 3, 4]; const big = [5, 6, 7, 8, 9]; const targetPool = prediction === "BIG" ? small : big; return targetPool[Math.floor(Math.random() * targetPool.length)]; } // API call to fetch game results async function fetchGameResults() { try { const response = await fetch("https://api.bdg88zf.com/api/webapi/GetNoaverageEmerdList", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ pageSize: 10, pageNo: 1, typeId: 1, language: 0, random: "4a0522c6ecd8410496260e686be2a57c", signature: "334B5E70A0C9B8918B0B15E517E2069C", timestamp: Math.floor(Date.now() / 1000) }) }); if (!response.ok) throw new Error('Network response was not ok'); const data = await response.json(); if (data?.data?.list) { gameResults = data.data.list; localStorage.setItem('gameResults', JSON.stringify(gameResults)); updateSystemStatus(true); return data.data.list; } return null; } catch (error) { console.error("API Error:", error); updateSystemStatus(false); showNotification("Connection Error", "Failed to fetch game data", "error"); return null; } } // Update system status function updateSystemStatus(online) { isOnline = online; const statusElements = ['systemStatus', 'apiStatus']; const statusTexts = ['statusText', 'apiStatusText']; statusElements.forEach(id => { const element = document.getElementById(id); if (online) { element.className = 'w-3 h-3 rounded-full bg-green-400 status-online'; } else { element.className = 'w-3 h-3 rounded-full bg-red-400 status-offline'; } }); statusTexts.forEach(id => { const element = document.getElementById(id); element.textContent = online ? 'Connected' : 'Disconnected'; element.className = online ? 'text-xs text-green-400' : 'text-xs text-red-400'; }); } // Check and update prediction results function checkPredictionResults(currentGameResults) { if (!currentGameResults || currentGameResults.length === 0) return; const latestResult = currentGameResults[0]; const latestPeriod = latestResult.issueNumber.slice(-4); // Check if we have a pending prediction for this period const pendingPrediction = historyData.find(h => h.period === latestPeriod && h.resultStatus === 'Pending' ); if (pendingPrediction) { const actualNumber = parseInt(latestResult.number); const actualResult = actualNumber >= 5 ? 'BIG' : 'SMALL'; // Check if prediction was correct const isCorrect = (actualNumber === pendingPrediction.targetNumber) || (actualResult === pendingPrediction.prediction); // Update prediction result pendingPrediction.actualNumber = actualNumber; pendingPrediction.actualResult = actualResult; pendingPrediction.resultStatus = isCorrect ? 'WIN' : 'LOSS'; pendingPrediction.checkTime = new Date().toLocaleTimeString(); // Update streak and stats if (isCorrect) { currentStreak++; if (currentStreak > bestStreak) { bestStreak = currentStreak; localStorage.setItem('bestStreak', bestStreak); } showNotification("🎉 WIN!", `Period ${latestPeriod}: Predicted correctly! Streak: ${currentStreak}`, "win"); // Update main card to show win const mainCard = document.getElementById('mainPredictionCard'); mainCard.className = 'win-card glass-card p-6 mb-6 rounded-xl'; document.getElementById('currentStatus').innerHTML = '<span class="win-badge">WIN</span>'; } else { currentStreak = 0; showNotification("❌ LOSS", `Period ${latestPeriod}: Better luck next time!`, "loss"); // Update main card to show loss const mainCard = document.getElementById('mainPredictionCard'); mainCard.className = 'loss-card glass-card p-6 mb-6 rounded-xl'; document.getElementById('currentStatus').innerHTML = '<span class="loss-badge">LOSS</span>'; } localStorage.setItem('currentStreak', currentStreak); totalSessions++; localStorage.setItem('totalSessions', totalSessions); saveToLocalStorage(); updateUI(); } } // Generate new prediction function generateNewPrediction(currentGameResults) { if (!currentGameResults || currentGameResults.length === 0) return; const latestResult = currentGameResults[0]; const nextPeriodFull = (BigInt(latestResult.issueNumber) + 1n).toString(); const nextPeriod = nextPeriodFull.slice(-4); // Check if we already have a prediction for this period const existingPrediction = historyData.find(h => h.period === nextPeriod); if (existingPrediction) return; // Generate prediction using selected logic const logicResult = predictionLogics[currentLogicType](historyData, currentGameResults); const targetNumber = generateTargetNumber(logicResult.prediction); // Create new prediction const newPrediction = { period: nextPeriod, prediction: logicResult.prediction, targetNumber: targetNumber, confidence: logicResult.confidence, logic: currentLogicType, resultStatus: 'Pending', timestamp: new Date().toLocaleTimeString(), actualNumber: null, actualResult: null, checkTime: null }; // Add to beginning of history historyData.unshift(newPrediction); if (historyData.length > 100) historyData.pop(); // Keep last 100 // Update UI updatePredictionDisplay(newPrediction); updateUI(); saveToLocalStorage(); showNotification("New Prediction", `${logicResult.prediction} for Period ${nextPeriod} with ${Math.round(logicResult.confidence)}% confidence`, "info"); } // Update prediction display function updatePredictionDisplay(prediction) { document.getElementById("periodDisplay").textContent = prediction.period; document.getElementById("predictionDisplay").textContent = prediction.prediction; document.getElementById("targetNumberDisplay").textContent = prediction.targetNumber; document.getElementById("confidenceDisplay").textContent = Math.round(prediction.confidence) + "%"; document.getElementById("confidenceBar").style.width = prediction.confidence + "%"; document.getElementById('currentStatus').innerHTML = '<span class="pending-badge">PENDING</span>'; // Reset main card to pending state const mainCard = document.getElementById('mainPredictionCard'); mainCard.className = 'pending-card glass-card p-6 mb-6 rounded-xl'; document.getElementById('lastUpdate').textContent = new Date().toLocaleTimeString(); } // Main update function async function updatePredictionSystem() { const results = await fetchGameResults(); if (!results) return; // Check results for existing predictions checkPredictionResults(results); // Generate new prediction if needed generateNewPrediction(results); // Update live results display updateLiveResults(results); } // Update live results display function updateLiveResults(results) { const container = document.getElementById('liveResults'); if (!results || results.length === 0) { container.innerHTML = '<div class="text-sm text-gray-400 text-center py-4">No results available</div>'; return; } container.innerHTML = results.slice(0, 5).map(result => { const period = result.issueNumber.slice(-4); const number = parseInt(result.number); const type = number >= 5 ? 'BIG' : 'SMALL'; const typeColor = number >= 5 ? 'text-red-400' : 'text-blue-400'; return ` <div class="flex items-center justify-between p-3 bg-gray-800 bg-opacity-50 rounded-lg"><div class="flex items-center"><div class="w-8 h-8 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center text-black font-bold mr-3"> ${number} </div><div><div class="text-sm font-semibold">Period ${period}</div><div class="text-xs text-gray-400">${new Date(result.createTime).toLocaleTimeString()}</div></div></div><div class="text-right"><div class="text-sm font-bold ${typeColor}">${type}</div></div></div> `; }).join(''); } // Update UI components function updateUI() { updateStats(); updateHistory(); updateChart(); } // Update statistics function updateStats() { const completedPredictions = historyData.filter(h => h.resultStatus !== "Pending"); const wins = completedPredictions.filter(h => h.resultStatus === "WIN").length; const losses = completedPredictions.filter(h => h.resultStatus === "LOSS").length; const accuracy = completedPredictions.length > 0 ? (wins / completedPredictions.length * 100) : 0; document.getElementById("winsCount").textContent = wins; document.getElementById("lossesCount").textContent = losses; document.getElementById("accuracyDisplay").textContent = accuracy.toFixed(1) + "%"; document.getElementById("streakDisplay").textContent = currentStreak; document.getElementById("todayPredictions").textContent = historyData.length; document.getElementById("bestStreak").textContent = bestStreak; document.getElementById("totalSessions").textContent = totalSessions; document.getElementById("currentAccuracy").textContent = accuracy.toFixed(1) + "%"; document.getElementById("historyCount").textContent = historyData.length; } // Update prediction history display function updateHistory() { const container = document.getElementById("historyContainer"); if (historyData.length === 0) { container.innerHTML = ` <div class="text-center text-gray-400 py-8"><i class="fas fa-clock text-3xl mb-2"></i><div>No prediction history available</div></div> `; return; } container.innerHTML = historyData.slice(0, 20).map((item, index) => { const cardClasses = { 'WIN': 'win-card', 'LOSS': 'loss-card', 'Pending': 'pending-card' }; const badgeClasses = { 'WIN': 'win-badge', 'LOSS': 'loss-badge', 'Pending': 'pending-badge' }; const statusIcons = { 'WIN': 'fas fa-trophy text-yellow-400', 'LOSS': 'fas fa-times-circle text-red-400', 'Pending': 'fas fa-clock text-yellow-400' }; return ` <div class="${cardClasses[item.resultStatus]} glass-card p-5 rounded-xl border-l-4"><div class="flex items-center justify-between mb-4"><div class="flex items-center"><div class="w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center text-white font-bold mr-3"> ${item.period} </div><div><div class="font-semibold text-lg">Period ${item.period}</div><div class="text-xs text-gray-400 flex items-center"><i class="fas fa-brain mr-1"></i> ${item.logic.toUpperCase()} </div></div></div><div class="text-right"><div class="${badgeClasses[item.resultStatus]} mb-2">${item.resultStatus}</div><i class="${statusIcons[item.resultStatus]} text-xl"></i></div></div><div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"><div class="text-center p-3 bg-gray-800 bg-opacity-30 rounded-lg"><div class="text-xs text-gray-400 mb-1">Prediction</div><div class="font-bold text-lg text-${item.prediction === 'BIG' ? 'red' : 'blue'}-400">${item.prediction}</div></div><div class="text-center p-3 bg-gray-800 bg-opacity-30 rounded-lg"><div class="text-xs text-gray-400 mb-1">Target</div><div class="font-bold text-lg text-yellow-400">${item.targetNumber}</div></div><div class="text-center p-3 bg-gray-800 bg-opacity-30 rounded-lg"><div class="text-xs text-gray-400 mb-1">Actual</div><div class="font-bold text-lg ${item.actualNumber !== null ? 'text-white' : 'text-gray-500'}">${item.actualNumber !== null ? item.actualNumber : '-'}</div></div><div class="text-center p-3 bg-gray-800 bg-opacity-30 rounded-lg"><div class="text-xs text-gray-400 mb-1">Confidence</div><div class="font-bold text-lg text-purple-400">${Math.round(item.confidence)}%</div></div></div><div class="flex items-center justify-between text-xs text-gray-400 border-t border-gray-600 pt-3"><span><i class="fas fa-clock mr-1"></i>Created: ${item.timestamp}</span> ${item.checkTime ? `<span><i class="fas fa-check mr-1"></i>Checked: ${item.checkTime}</span>` : '<span>Waiting for result...</span>'} <button onclick="deleteHistory(${index})" class="text-red-400 hover:text-red-300 ml-2"><i class="fas fa-trash"></i></button></div></div> `; }).join(""); } // Update performance chart function updateChart() { if (!performanceChart) return; const completed = historyData.filter(h => h.resultStatus !== "Pending").slice(0, 15).reverse(); if (completed.length === 0) return; const labels = completed.map(h => `P-${h.period}`); const winRates = []; let wins = 0; for (let i = 0; i < completed.length; i++) { if (completed[i].resultStatus === "WIN") wins++; winRates.push(Math.round((wins / (i + 1)) * 100)); } performanceChart.data.labels = labels; performanceChart.data.datasets[0].data = winRates; performanceChart.update(); } // Delete history item function deleteHistory(index) { if (confirm("Are you sure you want to delete this prediction?")) { historyData.splice(index, 1); updateUI(); saveToLocalStorage(); showNotification("Deleted", "Prediction removed from history", "info"); } } // Clear all history function clearAllHistory() { if (confirm("Are you sure you want to clear all prediction history?")) { historyData = []; currentStreak = 0; localStorage.setItem('currentStreak', 0); updateUI(); saveToLocalStorage(); showNotification("Cleared", "All prediction history has been cleared", "info"); } } // Save to localStorage function saveToLocalStorage() { localStorage.setItem('predictionHistory', JSON.stringify(historyData)); } // Logic selector event listeners document.querySelectorAll('.logic-selector').forEach(button => { button.addEventListener('click', () => { document.querySelectorAll('.logic-selector').forEach(b => b.classList.remove('active')); button.classList.add('active'); currentLogicType = button.dataset.logic; document.getElementById('currentLogic').textContent = button.textContent.trim(); showNotification("Logic Changed", `Switched to ${button.textContent.trim()}`, "info"); }); }); // Event listeners document.getElementById('clearHistory').addEventListener('click', clearAllHistory); document.getElementById('refreshHistory').addEventListener('click', () => { updatePredictionSystem(); showNotification("Refreshed", "System updated with latest data", "info"); }); // Initialize system function initialize() { initializeChart(); updateUI(); updatePredictionSystem(); // Set up intervals setInterval(updatePredictionSystem, 30000); // Check every 30 seconds setInterval(() => { document.getElementById('lastUpdate').textContent = new Date().toLocaleTimeString(); }, 1000); showNotification("System Ready", "Enhanced BN Last King is online and ready!", "success"); } // Start the application document.addEventListener('DOMContentLoaded', initialize); </script></body></html> 